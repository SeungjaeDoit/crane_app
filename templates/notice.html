<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>{{ title or '장비ON 알림' }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* 모바일 대응 */
    @media (max-width: 600px) {
      .container { width:100% !important; }
      .p-24 { padding:16px !important; }
      .h1 { font-size:20px !important; line-height:28px !important; }
      .btn { display:block !important; width:100% !important; text-align:center !important; }
    }
    /* 다크모드 약간 보정 */
    @media (prefers-color-scheme: dark) {
      body { background:#0f1115 !important; color:#e7eaf0 !important; }
      .card { background:#1a1f2b !important; }
      .muted { color:#a8b3cf !important; }
    }
    /* 링크 색상 통일(일부 클라이언트용) */
    a { color:#2152ff; text-decoration:none; }
  </style>
</head>
<body style="margin:0; padding:0; background:#f6f8fb; color:#1f2430; font-family:-apple-system,'Apple SD Gothic Neo','Malgun Gothic','Segoe UI',Arial,sans-serif;">

  <!-- 받은편지함 미리보기(프리헤더, 숨김) -->
  <div style="display:none; max-height:0; overflow:hidden; opacity:0;">
    {{ preview_text or '장비ON에서 새 알림이 도착했습니다.' }}
    &zwnj;&nbsp;&zwnj;&nbsp;&zwnj;&nbsp;&zwnj;&nbsp;
  </div>

  <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td align="center" style="padding:24px;">
        <table role="presentation" class="container" width="600" cellpadding="0" cellspacing="0" border="0" style="width:600px; max-width:600px;">
          <!-- 헤더 바 -->
          <tr>
            <td style="background:#2152ff; color:#ffffff; padding:14px 18px; border-radius:12px 12px 0 0; font-weight:600;">
              {{ header_title or '장비ON' }}
            </td>
          </tr>

          <!-- 본문 카드 -->
          <tr>
            <td class="card p-24" style="background:#ffffff; padding:24px; border:1px solid #e7eaf3; border-top:0; border-radius:0 0 12px 12px;">
              <!-- 제목 -->
              <h1 class="h1" style="margin:0 0 12px; font-size:22px; line-height:32px;">
                {{ headline or '알림이 도착했습니다' }}
              </h1>

              <!-- 본문 메시지 -->
              {% if message %}
              <p style="margin:0 0 16px; color:#4b5568; white-space:pre-line;">
                {{ message }}
              </p>
              {% endif %}

              <!-- 항목 리스트(선택) -->
              {% if items %}
              <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="margin:8px 0 16px; border-collapse:collapse;">
                {% for it in items %}
                <tr>
                  <td style="padding:8px 0; border-top:1px solid #eef2f8;">
                    • {{ it }}
                  </td>
                </tr>
                {% endfor %}
              </table>
              {% endif %}

              <!-- GCS 템플릿 링크(선택) -->
              {% if gcs_url %}
              <p style="margin:0 0 16px;">
                템플릿 보기: <a href="{{ gcs_url }}" target="_blank">{{ gcs_url }}</a>
              </p>
              {% endif %}

              <!-- CTA 버튼(선택) -->
              {% if cta_url %}
              <div style="margin-top:18px;">
                <a class="btn" href="{{ cta_url }}" target="_blank"
                   style="display:inline-block; background:#2152ff; color:#ffffff; text-decoration:none; padding:12px 18px; border-radius:8px; font-weight:600;">
                  {{ cta_label or '대시보드에서 확인' }}
                </a>
              </div>
              {% endif %}
            </td>
          </tr>

          <!-- 푸터 -->
          <tr>
            <td style="padding:16px 8px; text-align:center; font-size:12px; color:#7b88a8;">
              {{ footer_note or '이 메일은 알림용입니다. 회신하지 마세요.' }}
            </td>
          </tr>

        </table>
      </td>
    </tr>
  </table>
</body>
</html>
